<ion-content [fullscreen]="true" class="login-content">
  <div class="bg-overlay"></div>

  <div class="stack">
    <img class="logo" src="assets/images/logo-st.png" alt="ST Logo" />

    <ion-card class="glass">
      <ion-card-content>
        <h1 class="title">Selamat Datang!</h1>

        <!-- EMAIL: required + email validator + native type=email -->
        <!-- EMAIL: ID unik untuk native input; autocomplete untuk autofill -->
        <ion-item class="field" fill="outline" mode="md">
          <ion-input
            inputId="emailInput"
            name="email"
            type="email"
            autocomplete="email"
            required
            email
            label="Email"
            label-placement="floating"
            placeholder="Email"
            [(ngModel)]="email"
            #emailCtrl="ngModel"
          >
          </ion-input>
        </ion-item>

        <!-- PASSWORD: ID unik kedua; bisa toggle show/hide -->
        <ion-item class="field" fill="outline" mode="md">
          <ion-input
            inputId="passwordInput"
            name="password"
            [type]="showPassword ? 'text' : 'password'"
            autocomplete="current-password"
            required
            minlength="3"
            label="Password"
            label-placement="floating"
            placeholder="Password"
            [(ngModel)]="password"
            #pwdCtrl="ngModel"
          >
          </ion-input>

          <ion-button
            class="eye-btn"
            fill="clear"
            slot="end"
            (click)="togglePassword()"
            aria-label="toggle password"
          >
            <ion-icon
              [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"
            ></ion-icon>
          </ion-button>
        </ion-item>

        <!-- Pesan validasi password (opsional) -->
        <ion-note
          *ngIf="pwdCtrl.invalid && pwdCtrl.touched"
          color="danger"
          class="hint"
        >
          Password minimal 3 karakter.
        </ion-note>

        <!-- LOGIN BUTTON terkunci jika salah satu invalid -->
        <ion-button
          expand="block"
          size="large"
          class="login-btn"
          (click)="onLogin()"
          [disabled]="emailCtrl.invalid || pwdCtrl.invalid"
        >
          Login
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
